---
description: 
globs: 
alwaysApply: true
---
 # アプリケーション構造のルール

## 適用範囲
- `main/**/*.ts`
- `renderer/src/**/*.ts`
- `electron-src/**/*.ts`

## ルール内容

### アプリケーション構造
- Next.jsとElectronの責務分離
- クリーンなコードと適切なコメント
- 関数型プログラミングパターン
- TypeScriptによる型安全性
- コードのモジュール化
- 説明的な変数名
- ファイル構造の整理
  - エクスポートされたコンポーネント
  - サブコンポーネント
  - ヘルパー関数
  - 静的コンテンツ
  - 型定義

### Electron統合
- Next.jsアプリケーションの適切なラップ
- IPC通信の効率的な設計
- アプリケーション更新機能
- ローカルファイルシステム連携
- システムトレイ統合
- デスクトップ通知機能
- Windowsネイティブの外観

### テスト戦略
- ユニットテスト
- 統合テスト
- エンドツーエンドテスト
- モックデータベースとテストフィクスチャ
- PostgreSQL固有機能のテスト
- GCP Cloud SQL接続テスト
- エッジケースとエラーシナリオ
- Electronアプリケーション動作テスト
- 複数データベース対応のテスト環境